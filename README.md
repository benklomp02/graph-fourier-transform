
# Project Structure

This repository contains the following struture:

- [`public/input/`](public/input/): Input files for the project.
- [`public/output/`](public/output/): Output files for the project.
- [`src/`](src/): Source code for the project.
- [`tests/`](plot/): Unit tests for the project.
- [`plot/`](plot/): Plotting scripts for the project.

## Installation

```zsh
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

The C/C++ shared library should already be precompiled. Otherwise, you can compile it by running the following commmand:

```zsh
cd src/c_ext
make
cd ../cpp_ext
make
```

## Input / Output Files

A list of input files is provided in the [`public/input/directed/`](public/input/directed/), and [`public/input/undirected`](public/input/undirected/) directory. The files are as follows:
- `Nu_tv.txt`: Contains `v` graphs of fixed size `u`.
- `Nmaxu_tv`: Contains `v` graphs of variable size btw. `3` and `u` inclusive.

The output files are generated by the scripts in the[ `src/`](src/) directory. The output files are stored in the [`public/output/`](public/output/) directory.

## Source Code

The source code for the project is located in the [`src/`](src/) directory. The main script is [`src/main.py`](src/main.py), which contains functions to run the implemented algorithms:

```zsh
python3 -m src.main
```

- [`src/algorithms/laplacian.py`](src/algorithms/laplacian.py): Contains an implementation of a Laplacian matrix computation and the corresponding L1 norm basis.
- [`src/algorithms.py/greedy.py`](src/algorithms/greedy.py): Contains the optimised greedy algorithm. Some parts are written in C for performance reasons. The extensions are located at [`src/c_ext/`](src/c_ext/).
- [`src/algorithms.py/greedy_lg.py`](src/algorithms/greedy_lg.py): Contains a pure Python implementation of the greedy algorithm. Running this script on a large graph `n=1024` nodes takes slighty more than a single minute.
- [`src/algorithms/l1_norm.py`](src/algorithms/l1_norm.py): Contains the exact L1 norm algorithm with C performance optimisations. However, it supports only up to `n=7` nodes.
- [`src/algorithms/l1_norm_cpp.py`](src/algorithms/l1_norm_cpp.py): A pure C++/20 implementation of the L1 norm algorithm. It is the fastest implementation and supports up to `n=9` nodes. The actual C++ code is located in [`src/cpp_ext/`](src/cpp_ext/).

# Plots

The plotting scripts are located in the [`plot/`](plot/) directory. The scripts are used to generate plots for the results of the algorithms. The plots are stored in the [`public/output/`](public/output/) directory.

```zsh
python3 -m plot.main # The main comparisons used in the script
python3 -m plot.basis_v_basis # Comparison of the two fast algorithms Greedy and L2 norm
```

*Note: The plotting scripts depend on global variables defined in the [`plot/constants.py`](plot/constants.py) file. The variables are used to set the parameters for the plots.*

## Tests

The tests for the project are located in the [`tests/`](test/) directory. The tests are written using the `pytest` framework (see [`pytest.ini`](pytest.ini)). The tests can be run using the following command:

```zsh
pytest
```

The created input graphs are created using the [`tests/IO/graph.py`](tests/IO/graph.py) script depending on the parameters in the [`tests/IO/constants.py`](tests/IO/constants.py) file.